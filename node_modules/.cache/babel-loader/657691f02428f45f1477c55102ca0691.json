{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\react\\\\src\\\\components\\\\main\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport Header from '../common/Header';\nimport Visual from './Visual';\nimport News from './News';\nimport Section_coffee from './Section_coffee';\nimport Section_dessert from './Section_dessert';\nimport Section_shop from './Section_shop';\nimport Btns from './Btns';\nimport { useEffect, useRef, useState } from 'react';\nimport Anime from '../../asset/anim';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Main() {\n  _s();\n\n  const main = useRef(null);\n  const pos = useRef([]);\n  const [Index, setIndex] = useState(0);\n  let secs = null;\n\n  const getPos = () => {\n    pos.current = [];\n    secs = main.current.querySelectorAll('.myScroll');\n\n    for (const sec of secs) pos.current.push(sec.offsetTop); // console.log(pos.current);\n\n  };\n\n  const activation = () => {\n    const base = 0;\n    const scroll = window.scrollY;\n    const btns = main.current.querySelectorAll('.scroll_navi li');\n    pos.current.map((pos, idx) => {\n      if (scroll >= pos + base) {\n        for (const btn of btns) btn.classList.remove('on');\n\n        for (const sec of secs) sec.classList.remove('on');\n\n        btns[idx].classList.add('on');\n        secs[idx].classList.add('on');\n      }\n    });\n  };\n\n  useEffect(() => {\n    getPos();\n    window.addEventListener('resize', getPos);\n    window.addEventListener('scroll', activation);\n    return () => {\n      window.removeEventListener('resize', getPos);\n      window.removeEventListener('scroll', activation);\n    };\n  }, []);\n  useEffect(() => {\n    new Anime(window, {\n      prop: 'scroll',\n      value: pos.current[Index],\n      duration: 500\n    });\n  }, [Index]);\n  return (\n    /*#__PURE__*/\n    //useRef로 참조하기 위해 main으로 감싼다\n    //useRef로 참조하면 main 안쪽에 있는 내용들은 쿼리셀렉터로 접근할 수 있으니\n    //main요소를 useRef로 참조한 다음 참도된 객체에서 쿼리셀렉터ALL로 공통class 'myscroll'을 전부 찾을 수 있다\n    _jsxDEV(\"main\", {\n      ref: main,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        type: 'main'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Visual, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(News, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Section_dessert, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Section_coffee, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Section_shop, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Btns, {\n        setIndex: setIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 3\n    }, this)\n  );\n}\n\n_s(Main, \"kFolAg8AFUXqT9VE3lzsdiPHIiA=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["Header","Visual","News","Section_coffee","Section_dessert","Section_shop","Btns","useEffect","useRef","useState","Anime","Main","main","pos","Index","setIndex","secs","getPos","current","querySelectorAll","sec","push","offsetTop","activation","base","scroll","window","scrollY","btns","map","idx","btn","classList","remove","add","addEventListener","removeEventListener","prop","value","duration"],"sources":["C:/Users/pc/Desktop/react/src/components/main/Main.js"],"sourcesContent":["import Header from '../common/Header';\r\nimport Visual from './Visual';\r\nimport News from './News';\r\nimport Section_coffee from './Section_coffee';\r\nimport Section_dessert from './Section_dessert';\r\nimport Section_shop from './Section_shop';\r\nimport Btns from './Btns';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport Anime from '../../asset/anim';\r\n\r\nfunction Main() {\r\n\tconst main = useRef(null);\r\n\tconst pos = useRef([]);\r\n\tconst [Index, setIndex] = useState(0);\r\n\tlet secs = null;\r\n\r\n\tconst getPos = () => {\r\n\t\tpos.current = [];\r\n\t\tsecs = main.current.querySelectorAll('.myScroll');\r\n\t\tfor (const sec of secs) pos.current.push(sec.offsetTop);\r\n\t\t// console.log(pos.current);\r\n\t};\r\n\r\n\tconst activation = () => {\r\n\t\tconst base = 0;\r\n\t\tconst scroll = window.scrollY;\r\n\t\tconst btns = main.current.querySelectorAll('.scroll_navi li');\r\n\r\n\t\tpos.current.map((pos, idx) => {\r\n\t\t\tif (scroll >= pos + base) {\r\n\t\t\t\tfor (const btn of btns) btn.classList.remove('on');\r\n\t\t\t\tfor (const sec of secs) sec.classList.remove('on');\r\n\t\t\t\tbtns[idx].classList.add('on');\r\n\t\t\t\tsecs[idx].classList.add('on');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetPos();\r\n\t\twindow.addEventListener('resize', getPos);\r\n\t\twindow.addEventListener('scroll', activation);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('resize', getPos);\r\n\t\t\twindow.removeEventListener('scroll', activation);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tnew Anime(window, {\r\n\t\t\tprop: 'scroll',\r\n\t\t\tvalue: pos.current[Index],\r\n\t\t\tduration: 500,\r\n\t\t});\r\n\t}, [Index]);\r\n\r\n\treturn (\r\n\t\t//useRef로 참조하기 위해 main으로 감싼다\r\n\t\t//useRef로 참조하면 main 안쪽에 있는 내용들은 쿼리셀렉터로 접근할 수 있으니\r\n\t\t//main요소를 useRef로 참조한 다음 참도된 객체에서 쿼리셀렉터ALL로 공통class 'myscroll'을 전부 찾을 수 있다\r\n\t\t<main ref={main}>\r\n\t\t\t<Header type={'main'} />\r\n\t\t\t<Visual />\r\n\t\t\t<News />\r\n\t\t\t<Section_dessert />\r\n\t\t\t<Section_coffee />\r\n\t\t\t<Section_shop />\r\n\t\t\t<Btns setIndex={setIndex} />\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}