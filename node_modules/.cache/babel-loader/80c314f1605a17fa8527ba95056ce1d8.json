{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const fetchFlickr = createAsyncThunk('flickr/requestFlickr', async opt => {\n  const key = 'fc209af65c0a7e52e3ce3a2358041834';\n  const method_interest = 'flickr.interestingness.getList';\n  const method_search = 'flickr.photos.search';\n  const method_user = 'flickr.people.getPhotos';\n  const num = 20;\n  let url = '';\n\n  if (opt.type === 'interest') {\n    url = `https://www.flickr.com/services/rest/?method=${method_interest}&per_page=${num}&api_key=${key}&format=json&nojsoncallback=1`;\n  }\n\n  if (opt.type === 'search') {\n    url = `https://www.flickr.com/services/rest/?method=${method_search}&per_page=${num}&api_key=${key}&format=json&nojsoncallback=1&tags=${opt.tags}`;\n  }\n\n  if (opt.type === 'user') {\n    url = `https://www.flickr.com/services/rest/?method=${method_user}&per_page=${num}&api_key=${key}&format=json&nojsoncallback=1&user_id=${opt.user}`;\n  }\n\n  const response = await axios.get(url);\n  return response.data.photos.photo;\n});\nconst flickrSlice = createSlice({\n  name: 'flickr',\n  initialState: {\n    data: [],\n    isLoading: false\n  },\n  extraReducers: {\n    [fetchFlickr.pending]: state => {\n      state.isLoading = true;\n    },\n    [fetchFlickr.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.data = action.payload;\n    },\n    [fetchFlickr.rejected]: state => {\n      state.isLoading = false;\n    }\n  }\n});\nexport default flickrSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchFlickr","opt","key","method_interest","method_search","method_user","num","url","type","tags","user","response","get","data","photos","photo","flickrSlice","name","initialState","isLoading","extraReducers","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["C:/Users/pc/Desktop/react/src/redux/flickrSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const fetchFlickr = createAsyncThunk(\r\n\t'flickr/requestFlickr',\r\n\tasync (opt) => {\r\n\t\tconst key = 'fc209af65c0a7e52e3ce3a2358041834';\r\n\t\tconst method_interest = 'flickr.interestingness.getList';\r\n\t\tconst method_search = 'flickr.photos.search';\r\n\t\tconst method_user = 'flickr.people.getPhotos';\r\n\t\tconst num = 20;\r\n\t\tlet url = '';\r\n\r\n\t\tif (opt.type === 'interest') {\r\n\t\t\turl = `https://www.flickr.com/services/rest/?method=${method_interest}&per_page=${num}&api_key=${key}&format=json&nojsoncallback=1`;\r\n\t\t}\r\n\t\tif (opt.type === 'search') {\r\n\t\t\turl = `https://www.flickr.com/services/rest/?method=${method_search}&per_page=${num}&api_key=${key}&format=json&nojsoncallback=1&tags=${opt.tags}`;\r\n\t\t}\r\n\t\tif (opt.type === 'user') {\r\n\t\t\turl = `https://www.flickr.com/services/rest/?method=${method_user}&per_page=${num}&api_key=${key}&format=json&nojsoncallback=1&user_id=${opt.user}`;\r\n\t\t}\r\n\r\n\t\tconst response = await axios.get(url);\r\n\t\treturn response.data.photos.photo;\r\n\t}\r\n);\r\n\r\nconst flickrSlice = createSlice({\r\n\tname: 'flickr',\r\n\tinitialState: {\r\n\t\tdata: [],\r\n\t\tisLoading: false,\r\n\t},\r\n\textraReducers: {\r\n\t\t[fetchFlickr.pending]: (state) => {\r\n\t\t\tstate.isLoading = true;\r\n\t\t},\r\n\t\t[fetchFlickr.fulfilled]: (state, action) => {\r\n\t\t\tstate.isLoading = false;\r\n\t\t\tstate.data = action.payload;\r\n\t\t},\r\n\t\t[fetchFlickr.rejected]: (state) => {\r\n\t\t\tstate.isLoading = false;\r\n\t\t},\r\n\t},\r\n});\r\nexport default flickrSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CAC1C,sBAD0C,EAE1C,MAAOG,GAAP,IAAe;EACd,MAAMC,GAAG,GAAG,kCAAZ;EACA,MAAMC,eAAe,GAAG,gCAAxB;EACA,MAAMC,aAAa,GAAG,sBAAtB;EACA,MAAMC,WAAW,GAAG,yBAApB;EACA,MAAMC,GAAG,GAAG,EAAZ;EACA,IAAIC,GAAG,GAAG,EAAV;;EAEA,IAAIN,GAAG,CAACO,IAAJ,KAAa,UAAjB,EAA6B;IAC5BD,GAAG,GAAI,gDAA+CJ,eAAgB,aAAYG,GAAI,YAAWJ,GAAI,+BAArG;EACA;;EACD,IAAID,GAAG,CAACO,IAAJ,KAAa,QAAjB,EAA2B;IAC1BD,GAAG,GAAI,gDAA+CH,aAAc,aAAYE,GAAI,YAAWJ,GAAI,sCAAqCD,GAAG,CAACQ,IAAK,EAAjJ;EACA;;EACD,IAAIR,GAAG,CAACO,IAAJ,KAAa,MAAjB,EAAyB;IACxBD,GAAG,GAAI,gDAA+CF,WAAY,aAAYC,GAAI,YAAWJ,GAAI,yCAAwCD,GAAG,CAACS,IAAK,EAAlJ;EACA;;EAED,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAUL,GAAV,CAAvB;EACA,OAAOI,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqBC,KAA5B;AACA,CAtByC,CAApC;AAyBP,MAAMC,WAAW,GAAGnB,WAAW,CAAC;EAC/BoB,IAAI,EAAE,QADyB;EAE/BC,YAAY,EAAE;IACbL,IAAI,EAAE,EADO;IAEbM,SAAS,EAAE;EAFE,CAFiB;EAM/BC,aAAa,EAAE;IACd,CAACpB,WAAW,CAACqB,OAAb,GAAwBC,KAAD,IAAW;MACjCA,KAAK,CAACH,SAAN,GAAkB,IAAlB;IACA,CAHa;IAId,CAACnB,WAAW,CAACuB,SAAb,GAAyB,CAACD,KAAD,EAAQE,MAAR,KAAmB;MAC3CF,KAAK,CAACH,SAAN,GAAkB,KAAlB;MACAG,KAAK,CAACT,IAAN,GAAaW,MAAM,CAACC,OAApB;IACA,CAPa;IAQd,CAACzB,WAAW,CAAC0B,QAAb,GAAyBJ,KAAD,IAAW;MAClCA,KAAK,CAACH,SAAN,GAAkB,KAAlB;IACA;EAVa;AANgB,CAAD,CAA/B;AAmBA,eAAeH,WAAW,CAACW,OAA3B"},"metadata":{},"sourceType":"module"}